# 🃏 Python 撲克牌猜謎遊戲說明文件 (單行輸入與中途離開版)

## 概述 (Overview)

這是一個高度優化的命令列 (CLI) 互動式撲克牌猜謎遊戲。程式會隨機生成一張撲克牌，使用者需要在有限的 $\text{5}$ 次機會內猜測其花色和號碼。

本程式碼已全面優化，提供流暢的使用者體驗，包含以下關鍵功能：

1.  **單行合併輸入**：使用者只需輸入一次，同時猜測花色代碼和號碼，例如 `H K`。
2.  **次數限制調整**：每局猜測次數變更為 **5 次**。
3.  **中途離開功能**：在輸入時可輸入特殊代號 (`EXIT`) 隨時退出當前局。
4.  **健壯的例外處理**：針對合併輸入進行嚴格檢查。
5.  **即時提示**：猜錯時，保留提示使用者是否猜對花色或號碼的功能。
6.  **多局循環**：支援連續進行多局遊戲和總結算分。

## 遊戲規則與輸入代碼 (Game Rules and Input Codes)

| 項目 | 說明 |
| :--- | :--- |
| **目標** | 在 **5 次**機會內猜中程式隨機生成的撲克牌的花色和號碼。 |
| **猜測格式** | **花色代碼** $+\text{空格}+$ **號碼** (例如：`D 9` 或 `S A`)。 |
| **花色代碼** | 輸入單一字母代碼：<br>* **C**：梅花 (Clubs)<br>* **D**：方塊 (Diamonds)<br>* **H**：紅心 (Hearts)<br>* **S**：黑桃 (Spades) |
| **中途退出** | 在輸入時輸入 `EXIT` 即可結束當前局，不計勝負。 |
| **提示機制** | 猜錯時，程式會提示您是否猜對了**花色**或**號碼**。<br>**新增**： 若**花色猜對但號碼猜錯**，程式會額外提示您猜測的號碼是**更大 (Higher) **還是**更小 (Lower)**。  |

## 程式碼核心結構 (Code Structure)

程式碼結構採用函數封裝邏輯，以處理合併輸入帶來的複雜性：

| 函數名稱 | 主要職責 | 關鍵功能 |
| :--- | :--- | :--- |
| `generate_card()` | 牌組生成。 | 隨機產生一張花色與號碼。 |
| `get_combined_guess()` | **核心輸入與驗證**。 | 處理單行合併輸入、`EXIT` 代號檢查、以及輸入格式和值是否有效的**例外處理**。 |
| `play_round()` | 單局遊戲邏輯。 | 實作 **5 次機會**的限制迴圈、調用 `get_combined_guess`，並提供**即時提示**。 |
| `main()` | 遊戲控制中心。 | 負責**多局連續遊玩**、計分、處理中途退出，並顯示最終總結。 |

## 運行方法 (How to Run the Game)

1.  將您的 Python 程式碼儲存為一個檔案（例如 `card_game.py`）。
2.  打開命令列工具（如 Terminal 或 CMD）。
3.  導航到您儲存檔案的位置。
4.  執行以下命令啟動遊戲：

    ```bash
    python card_game.py
    ```

5.  遊戲開始後，請根據提示在**同一行**輸入花色代碼和號碼（例如 `H 8`）。您隨時可以輸入 `EXIT` 來結束當前局。